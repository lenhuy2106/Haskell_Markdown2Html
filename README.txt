******************************************************************************
*                                                                            *
*                         MARKDOWN 2 HTML                                    *
*                              v0.5                                          *
*                  by Nhu Huy Le, Mathias Long Yan                           *
*                                                                            *
******************************************************************************

v0.5: supports following structures based on COMMONMARK SPEC
      (with some additional restrictions)

==============================================================================
                                 ATX HEADERS
==============================================================================
-------------------------------------------------------------------------- E23
# foo
## foo
### foo
#### foo
##### foo
###### foo
-------------------------------------------------------------------------- E24
####### foo
-------------------------------------------------------------------------- E25
#5 bolt
-------------------------------------------------------------------------- E26
\## foo
-------------------------------------------------------------------------- E27
# foo *bar* \*baz\*
-------------------------------------------------------------------------- E28
#                  foo
-------------------------------------------------------------------------- E29
 ### foo
  ## foo
   # foo
-------------------------------------------------------------------------- E30
    # foo
-------------------------------------------------------------------------- E31
foo
    # bar
-------------------------------------------------------------------------- E32
## foo ##
  ###   bar    ###
-------------------------------------------------------------------------- E33
                               more than six hashes at the end are not ignored
# foo ##################################
##### foo ##
-------------------------------------------------------------------------- E34
### foo ###
-------------------------------------------------------------------------- E35
### foo ### b
-------------------------------------------------------------------------- E36
# foo#
-------------------------------------------------------------------------- E37
### foo \###
## foo #\##
# foo \#
-------------------------------------------------------------------------- E38
****
## foo
****
-------------------------------------------------------------------------- E39
Foo bar
# baz
Bar foo
-------------------------------------------------------------------------- E39
                               empty sided headers are parsed as multiple ones
##
#
### ###
------------------------------------------------------------------------------


==============================================================================
                            INDENTED CODE BLOCKS
==============================================================================
-------------------------------------------------------------------------- E61
    a simple
      indented code block
-------------------------------------------------------------------------- E62
                                                           <a/> is not literal
    <a/>
    *hi*

    - one
-------------------------------------------------------------------------- E63
                                          Blanks in Emptylines are not allowed
    chunk1

    chunk2
  
 
 
    chunk3
-------------------------------------------------------------------------- E64
    chunk1
      
      chunk2
-------------------------------------------------------------------------- E65
Foo
    bar
-------------------------------------------------------------------------- E66
    foo
bar
-------------------------------------------------------------------------- E67
                                           lines are not parsed as headers yet
# Header
    foo
Header
------
    foo
----
-------------------------------------------------------------------------- E68
        foo
    bar
-------------------------------------------------------------------------- E69
    
    foo
    
-------------------------------------------------------------------------- E70
                       empty trailing indented code blocks are not ignored yet

    foo  

    
==============================================================================
                                PARAGRAPHS
==============================================================================
------------------------------------------------------------------------- E129
aaa

bbb
------------------------------------------------------------------------- E130
aaa
bbb

ccc
ddd
------------------------------------------------------------------------- E131
aaa


bbb
------------------------------------------------------------------------- E132
  aaa
 bbb
------------------------------------------------------------------------- E133
aaa
             bbb
                                       ccc
------------------------------------------------------------------------- E134
   aaa
bbb
------------------------------------------------------------------------- E135
aaa     
bbb   
------------------------------------------------------------------------- E136
  

aaa
  

# aaa

==============================================================================
                                CODE SPANS
==============================================================================
------------------------------------------------------------------------- E245
`foo`
------------------------------------------------------------------------- E246
`` foo ` bar  ``
------------------------------------------------------------------------- E247
` `` `
------------------------------------------------------------------------- E248
``
foo
``
------------------------------------------------------------------------- E249
`foo   bar
  baz`
------------------------------------------------------------------------- E250
`foo `` bar`
------------------------------------------------------------------------- E251
`foo\`bar`
------------------------------------------------------------------------- E252
                               combined emphasis and backticks are not allowed
*foo`*`
----------------------------------------------------------------------E253-255
                                  combined links and backticks are not allowed
[not a `link](/foo`)
<http://foo.bar.`baz>`
<a href="`">`
------------------------------------------------------------------------- E256
```foo``
------------------------------------------------------------------------- E257
`foo


==============================================================================
                              (STRONG) EMPHASIS
==============================================================================
------------------------------------------------------------------------- E258
*foo bar*
------------------------------------------------------------------------- E259
_foo bar_
------------------------------------------------------------------------- E260
**foo bar**
------------------------------------------------------------------------- E261
__foo bar__
------------------------------------------------------------------------- E262
*foo
bar*
------------------------------------------------------------------------- E263
_foo
bar_
------------------------------------------------------------------------- E264
**foo
bar**
------------------------------------------------------------------------- E265
__foo
bar__
------------------------------------------------------E266-273,276,277,351-353
                                                  inline links are not allowed
*foo [bar](/url)*
_foo [bar](/url)_
**foo [bar](/url)**
__foo [bar](/url)__
*foo [bar*](/url)
_foo [bar_](/url)
**<a href="**">
__<a href="__">
**a<http://foo.bar?q=**>
__a<http://foo.bar?q=__>
*[foo*](bar)
*![foo*](bar)
*<img src="foo" title="*"/>
------------------------------------------------------------------------- E274
*a `*`*
------------------------------------------------------------------------- E275
_a `_`_
------------------------------------------------------------------------- E278
and * foo bar*
------------------------------------------------------------------------- E279
_ foo bar_
------------------------------------------------------------------------- E280
and ** foo bar**
------------------------------------------------------------------------- E281
__ foo bar__
------------------------------------------------------------------------- E282
and *foo bar *
------------------------------------------------------------------------- E283
and _foo bar _
------------------------------------------------------------------------- E284
and **foo bar **
------------------------------------------------------------------------- E285
and __foo bar __
------------------------------------------------------------------------- E286
****hi****
------------------------------------------------------------------------- E287
_____hi_____
------------------------------------------------------------------------- E288
Sign here: _________
------------------------------------------------------------------------- E289
** is not an empty emphasis
------------------------------------------------------------------------- E290
**** is not an empty strong emphasis
------------------------------------------------------------------------- E291
*here is a \**
------------------------------------------------------------------------- E292
                                  CodeSpans split emphasis (no impact on html)
__this is a double underscore (`__`)__
------------------------------------------------------------- E293-296,303-350
                                           nested emphasis are not allowed yet
*_*
_*_
*__*
_**_
_foo_bar_baz_
_foo_bar_baz_
__foo__bar__baz__
***foo bar***
___foo bar___
***foo** bar*
___foo__ bar_
***foo* bar**
___foo_ bar__
*foo **bar***
_foo __bar___
**foo *bar***
__foo _bar___
*foo **bar***
_foo __bar___
*foo *bar* baz*
_foo _bar_ baz_
**foo **bar** baz**
__foo __bar__ baz__
*foo **bar** baz*
_foo __bar__ baz_
**foo *bar* baz**
__foo _bar_ baz__
**foo, *bar*, baz**
__foo, _bar_, baz__
*foo**bar**baz*
**foo*bar*baz**
**foo**
****foo****
*_foo_*
**__foo__**
*foo**
*foo *bar**
**foo***
***foo* bar***
***foo** bar***
*foo**bar***
*foo****
*foo**
**foo*
*foo *bar**
**foo* bar*
*bar***
***foo*
**bar***
***foo**
***foo *bar*
*foo _bar* baz
**foo bar* baz**
**foo **bar baz**
*foo *bar baz*
*a`a*`
------------------------------------------------------------------------- E297
foo*bar*baz
------------------------------------------------------------------------- E298
foo_bar_baz
------------------------------------------------------------------------- E299
foo__bar__baz
------------------------------------------------------------------------- E300
_foo_bar_baz_
------------------------------------------------------------------------- E301
11*15*32
------------------------------------------------------------------------- E302
11_15_32






==============================================================================
                                   LINKS
==============================================================================
------------------------------------------------------------------------- E355
[link](/uri "title") 
------------------------------------------------------------------------- E356
[link](/uri)
------------------------------------------------------------------------- E357
[link]()
------------------------------------------------------------------------- E358
                                             Only working with upper structure
[link](<>)

------------------------------------------------------------------------- E359
[link](/my uri)
------------------------------------------------------------------------- E360
[link](</my uri>)

------------------------------------------------------------------------- E361
[link](foo
bar)<p>[link](foo
bar)</p>
--------------------------------------------------------------------- E362-368
[link]((foo)and(bar))
[link](foo(and(bar)))
[link](foo(and\(bar\)))
[link](<foo(and(bar))>)
[link](foo\)\:)
[link](foo%20b&auml;)
[link]("title")
------------------------------------------------------------------------- E369
[link](/url "title")
[link](/url 'title')                        for now only normal quotesigns '"'
[link](/url (title))

------------------------------------------------------------------------- E370
[link](/url "title \"&quot;")                            No Complex Structures

------------------------------------------------------------------------- E371
[link](/url "title "and" title")

------------------------------------------------------------------------- E372
[link](/url 'title "and" title')

------------------------------------------------------------------------- E373
[link](   /uri                                          Only INLINE
  "title"  )

------------------------------------------------------------------------- E374
[link] (/uri)

------------------------------------------------------------------------- E375
[foo <bar attr="](baz)">                    
